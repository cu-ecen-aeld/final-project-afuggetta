#!/bin/sh

DAEMON=/usr/bin/aesdsocket
NAME=aesdsocket

start() {
    echo "Starting $NAME..."
    if [ -x "$DAEMON" ]; then
        "$DAEMON" &
    else
        echo "$DAEMON not found"
    fi
}

stop() {
    echo "Stopping $NAME..."
    pkill -f "$DAEMON" 2>/dev/null || true
}

case "$1" in
  start)
    start
    ;;
  stop)
    stop
    ;;
  restart)
    stop
    start
    ;;
  *)
    echo "Usage: $0 {start|stop|restart}"
    exit 1
    ;;
esac

exit 0
